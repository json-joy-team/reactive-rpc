<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>HttpResponse | @jsonjoy.com/reactive-rpc</title><meta name="description" content="Documentation for @jsonjoy.com/reactive-rpc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@jsonjoy.com/reactive-rpc</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">@jsonjoy.com/reactive-rpc</a></li><li><a href="../modules/server.html">server</a></li><li><a href="server.HttpResponse.html">HttpResponse</a></li></ul><h1>Interface HttpResponse</h1></div><div class="tsd-signature"><span class="tsd-signature-keyword">interface </span><span class="tsd-kind-interface">HttpResponse</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#close.close-1">close</a><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#cork.cork-1">cork</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">cb</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#end.end-1">end</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">body</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">closeConnection</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#getRemoteAddressAsText.getRemoteAddressAsText-1">getRemoteAddressAsText</a><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#onAborted.onAborted-1">onAborted</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#onData.onData-1">onData</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#upgrade.upgrade-1">upgrade</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="server.HttpResponse.html#upgrade.upgrade-1.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userData</span>, <span class="tsd-kind-parameter">secWebSocketKey</span>, <span class="tsd-kind-parameter">secWebSocketProtocol</span>, <span class="tsd-kind-parameter">secWebSocketExtensions</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#write.write-1">write</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">chunk</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#writeHeader.writeHeader-1">writeHeader</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="server.HttpResponse.html#writeStatus.writeStatus-1">writeStatus</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><span class="tsd-signature-symbol">; </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel"><h4 class="tsd-before-signature">Indexable</h4><div class="tsd-signature"><span class="tsd-signature-symbol">[</span>key: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">any</span></div><div class="tsd-comment tsd-typography"><p>Arbitrary user data may be attached to this object</p>
</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L26">server/uws/types-uws.ts:26</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="server.HttpResponse.html#close" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close</span></a>
<a href="server.HttpResponse.html#cork" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cork</span></a>
<a href="server.HttpResponse.html#end" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>end</span></a>
<a href="server.HttpResponse.html#getRemoteAddressAsText" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Remote<wbr/>Address<wbr/>As<wbr/>Text</span></a>
<a href="server.HttpResponse.html#onAborted" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Aborted</span></a>
<a href="server.HttpResponse.html#onData" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Data</span></a>
<a href="server.HttpResponse.html#upgrade" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>upgrade</span></a>
<a href="server.HttpResponse.html#write" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write</span></a>
<a href="server.HttpResponse.html#writeHeader" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write<wbr/>Header</span></a>
<a href="server.HttpResponse.html#writeStatus" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write<wbr/>Status</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id="close" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>close</span><a href="#close" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="close.close-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">close</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#close.close-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Immediately force closes the connection. Any onAborted callback will run.</p>
</div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L53">server/uws/types-uws.ts:53</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="cork" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>cork</span><a href="#cork" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="cork.cork-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">cork</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">cb</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#cork.cork-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Corking a response is a performance improvement in both CPU and network, as you ready the IO system for writing multiple chunks at once.
By default, you&#39;re corked in the immediately executing top portion of the route handler. In all other cases, such as when returning from
await, or when being called back from an async database request or anything that isn&#39;t directly executing in the route handler, you&#39;ll want
to cork before calling writeStatus, writeHeader or just write. Corking takes a callback in which you execute the writeHeader, writeStatus and
such calls, in one atomic IO operation. This is important, not only for TCP but definitely for TLS where each write would otherwise result
in one TLS block being sent off, each with one send syscall.</p>
<p>Example usage:</p>
<p>res.cork(() =&gt; {
  res.writeStatus(&quot;200 OK&quot;).writeHeader(&quot;Some&quot;, &quot;Value&quot;).write(&quot;Hello world!&quot;);
});</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">cb</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L82">server/uws/types-uws.ts:82</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="end" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>end</span><a href="#end" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="end.end-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">end</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">body</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">closeConnection</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#end.end-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Ends this response by copying the contents of body.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">body</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">closeConnection</span>: <span class="tsd-signature-type">boolean</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L51">server/uws/types-uws.ts:51</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getRemoteAddressAsText" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Remote<wbr/>Address<wbr/>As<wbr/>Text</span><a href="#getRemoteAddressAsText" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getRemoteAddressAsText.getRemoteAddressAsText-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Remote<wbr/>Address<wbr/>As<wbr/>Text</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ArrayBuffer</span><a href="#getRemoteAddressAsText.getRemoteAddressAsText-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the remote IP address as text.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">ArrayBuffer</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L68">server/uws/types-uws.ts:68</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="onAborted" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>on<wbr/>Aborted</span><a href="#onAborted" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="onAborted.onAborted-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">on<wbr/>Aborted</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#onAborted.onAborted-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Every HttpResponse MUST have an attached abort handler IF you do not respond
to it immediately inside of the callback. Returning from an Http request handler
without attaching (by calling onAborted) an abort handler is ill-use and will terminate.
When this event emits, the response has been aborted and may not be used.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L60">server/uws/types-uws.ts:60</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="onData" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>on<wbr/>Data</span><a href="#onData" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="onData.onData-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">on<wbr/>Data</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#onData.onData-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Handler for reading data from POST and such requests. You MUST copy the
data of chunk if isLast is not true. We Neuter ArrayBuffers on return,
making it zero length.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">chunk</span>, <span class="tsd-kind-parameter">isLast</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">chunk</span>, <span class="tsd-kind-parameter">isLast</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">chunk</span>: <span class="tsd-signature-type">ArrayBuffer</span></span></li><li><span><span class="tsd-kind-parameter">isLast</span>: <span class="tsd-signature-type">boolean</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L66">server/uws/types-uws.ts:66</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="upgrade" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>upgrade</span><a href="#upgrade" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="upgrade.upgrade-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">upgrade</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="server.HttpResponse.html#upgrade.upgrade-1.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userData</span>, <span class="tsd-kind-parameter">secWebSocketKey</span>, <span class="tsd-kind-parameter">secWebSocketProtocol</span>, <span class="tsd-kind-parameter">secWebSocketExtensions</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#upgrade.upgrade-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Upgrades a HttpResponse to a WebSocket. See UpgradeAsync, UpgradeSync example files.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="upgrade.upgrade-1.T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userData</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="server.HttpResponse.html#upgrade.upgrade-1.T">T</a></span></li><li><span><span class="tsd-kind-parameter">secWebSocketKey</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li><li><span><span class="tsd-kind-parameter">secWebSocketProtocol</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li><li><span><span class="tsd-kind-parameter">secWebSocketExtensions</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li><li><span><span class="tsd-kind-parameter">context</span>: <span class="tsd-signature-type">unknown</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L84">server/uws/types-uws.ts:84</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="write" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>write</span><a href="#write" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="write.write-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">write</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">chunk</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#write.write-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Enters or continues chunked encoding mode. Writes part of the response. End with zero length write. Returns true if no backpressure was added.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">chunk</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L49">server/uws/types-uws.ts:49</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="writeHeader" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>write<wbr/>Header</span><a href="#writeHeader" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="writeHeader.writeHeader-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">write<wbr/>Header</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#writeHeader.writeHeader-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Writes key and value to HTTP response.
See writeStatus and corking.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li><li><span><span class="tsd-kind-parameter">value</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L47">server/uws/types-uws.ts:47</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="writeStatus" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>write<wbr/>Status</span><a href="#writeStatus" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="writeStatus.writeStatus-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">write<wbr/>Status</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a><a href="#writeStatus.writeStatus-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Writes the HTTP status message such as &quot;200 OK&quot;.
This has to be called first in any response, otherwise
it will be called automatically with &quot;200 OK&quot;.</p>
<p>If you want to send custom headers in a WebSocket
upgrade response, you have to call writeStatus with
&quot;101 Switching Protocols&quot; before you call writeHeader,
otherwise your first call to writeHeader will call
writeStatus with &quot;200 OK&quot; and the upgrade will fail.</p>
<p>As you can imagine, we format outgoing responses in a linear
buffer, not in a hash table. You can read about this in
the user manual under &quot;corking&quot;.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <a href="../types/server.RecognizedString.html" class="tsd-signature-type tsd-kind-type-alias">RecognizedString</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="server.HttpResponse.html" class="tsd-signature-type tsd-kind-interface">HttpResponse</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jsonjoy-com/reactive-rpc/blob/83fc77b420302988bb16e8f634c09b33b0874d5d/src/server/uws/types-uws.ts#L42">server/uws/types-uws.ts:42</a></li></ul></aside></li></ul></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#close" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>close</span></a><a href="#cork" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cork</span></a><a href="#end" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>end</span></a><a href="#getRemoteAddressAsText" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Remote<wbr/>Address<wbr/>As<wbr/>Text</span></a><a href="#onAborted" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Aborted</span></a><a href="#onData" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Data</span></a><a href="#upgrade" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>upgrade</span></a><a href="#write" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write</span></a><a href="#writeHeader" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write<wbr/>Header</span></a><a href="#writeStatus" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write<wbr/>Status</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@jsonjoy.com/reactive-rpc</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>